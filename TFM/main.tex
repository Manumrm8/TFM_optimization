\documentclass[12pt,a4paper]{book}

% Formato del documento
%\usepackage[papersize={210mm,297mm},inner=3.5cm,outer=2cm,top=2.5cm,bottom=2.5cm]{geometry}
%\renewcommand{\baselinestretch}{1}
%\setlength{\parskip}{8pt}

\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tkz-graph}
\usepackage{hyperref}
\usepackage[parfill]{parskip}
\usepackage{float}

\renewcommand{\chaptername}{Capítulo}
\renewcommand{\contentsname}{Índice}
\renewcommand{\bibname}{Bibliografía}
\renewcommand{\figurename}{Figura}

\definecolor{verde_oscuro}{rgb}{0.0, 0.5, 0.0}

\newtheorem{defi}{Definición}[section]
\newtheorem{prop}{Proposición}[section]
\newtheorem{propi}{Propiedades}[section]
\newtheorem{lema}{Lema}[section]
\newtheorem{tma}{Teorema}[section]
\newtheorem{cor}{Corolario}[section]
\newtheorem{nota}{Nota}[section]
\newtheorem{ejem}{Ejemplo}[section]

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }

\urlstyle{same}

%%%%%%%ALTERNATIVA 2%%%%%%%%%%%%
\textheight=21cm
\textwidth=17cm
%\topmargin=-1cm
\oddsidemargin=0cm
\evensidemargin=0cm
\parindent=0mm
\pagestyle{plain}
%%%%%%%%%%%%%%%%%%%%%

%%%%%%%  Comando Portada  %%%%%%%%%%%
% Ajustes de geometría si la portada sigue sin caber
% \geometry{a4paper, top=1cm, bottom=1cm, left=1cm, right=1cm} 

\newcommand{\nuevaportada}[6]{
    \thispagestyle{empty}
    \begin{center}
        \includegraphics[width=0.5\textwidth]{images/logo.png}
        
        \vspace{0.3cm} % Espacio reducido
        {\Large\bfseries\textsc{M\'aster Universitario en #1}\par}
        
        \vspace{0.3cm} % Espacio reducido
        \includegraphics[width=0.4\textwidth]{images/uv.png}
        
        \vspace{0.3cm} % Espacio reducido
        {\Large\bfseries\textsc{Trabajo de Fin de M\'aster}\par}
        
        \vspace{0.5cm} % Mantener este espacio un poco más grande para el título
        {\Large\bfseries #2\par}
        
        \vspace{1.5cm} % Reducido a 1.5cm desde 2cm
        \begin{flushright}
            \begin{tabular}{l} 
                {\large\bfseries\textsc{Autor:}} \\
                {\large\textsc{#3}} \\ [0.3cm] % Espacio reducido
                {\large\bfseries\textsc{Tutora:}} \\ 
                {\large\textsc{#4}} \\ [0.3cm] % Espacio reducido
                {\large\bfseries #5} 
            \end{tabular}
        \end{flushright}
    \end{center}
    % Eliminamos \clearpage de aquí, ya que la portada debe ser una sola página
    % Si necesitas un salto de página después de la portada, lo añades en el documento principal.
}

\begin{document}

\nuevaportada{Ciencia de Datos}{Problema de Localización de Centros k-Balanceado Multiobjetivo}{Manuel Rubio Martínez}{Anna Martínez Gavara}{Abril, 2025}

\clearpage

\newpage
\tableofcontents

\chapter{Preliminares}
\section{primera parte}

\begin{defi}
Un algoritmo \textbf{"greedy"} (codicioso) es un método construcción de soluciones para un problema de optimización,
de manera que en cada paso se escoge la mejor posible, aunque esto no lleve finalmente a un óptimo global.
\end{defi}

\bigskip

\begin{defi}
Un algoritmo \textbf{"greedy randomizado"} se basa en el "greedy", pero en cada paso se elige de forma aleatoria entre un conjunto de mejores opciones.
Si el conjunto de opciones es el total, el algoritmo es "random".
\end{defi}

\chapter{Introducción}

\section{Antecedentes}
\subsection{Optimización Combinatoria}

Es la rama de la optimización enfocada en encontrar óptimos en conjuntos de soluciones finitos.
Esto no significa que el problema sea fácil, al contrario, por lo general es un problema NP-complejo. \\
Que sea NP-complejo implica que conforme el número de soluciones aumenta, la complejidad computacional lo hace, a su vez, exponencialmente. \\
Un ejemplo de ello es el problema sobre el que trata este TFM, 
tratar de que encontrar, en un conjunto de $n$ elementos, un subconjunto $k$ de ellos tal que  minimice varias funciones objetivo.
\\ \\
Es rápido calcular las combinaciones posibles (siempre suponiendo $k \leq  n$) son:

$$
    \binom{n}{k} = \frac{n!}{(n-k)!k!}
$$

Por ejemplo, si $n=50$ y $k=5$, entonces
$$
    \frac{50!}{(50-5)!5!}=2118760
$$
para un problema bastante sencillo. Para casos reales, podríamos tener n=5000 y k=50, la cantidad de posibles solucones sería del orden de $2.28  e^{120}$. Contabilizando el coste de 
evaluación de cada solución, no es viable encontrar el óptimo de forma exacta. Incluso utilizando los ordenadores más potentes, estaríamos hablando de tiempos astronómicos.

\subsection{Metaheurísticos}

Las metaheurísticas aparecen con el desarrollo de las ciencias de la computación, como principal solución a estos problemas. Donde los métodos exactos no serían capaces de encontrar el óptimo,
los Metaheurísticos buscan soluciones `buenas` en tiempos de ejecución razonables, sacrificando la garantía que proporcionan los métodos exactos de obtener un óptimo global.

Generalmente combinan heurísticas para obtener soluciones buenas, con aleatoriedad, para conseguir una exploración
más ámplia del conjunto de soluciones posibles, buscando un balance entre exploración y explotación del entorno de soluciones.\\
Exploración ya que no se quedan bloqueados en regiones aisladas, intentando buscar óptimos locales, sino que recorren el resto del espacio buscando nuevas soluciones.\\
Explotación porque cuando entran en una región, profundizan en ella buscando los mejores óptimos locales.

Son algoritmos muy generales, fáciles de implementar y adaptables a casi 
cualquier problema de optimización.

Los principales metaheurísticas son:
\begin{itemize}
    \item Algoritmos Genéticos (GA - Genetic Algorithms)\\
    Inspirados en la selección natural y el funcionamiento de la genética, se basan en la generación aleatoria de soluciones, y el cruce de las más prometedoras entre sí, 
    añadiendo mutaciones. El cruce de las más prometedoras crea soluciones buenas, mientras las mutaciones aumentan la diversidad.
    \item Recocido Simulado (SA - Simulated Annealing)\\
    Basada en la física, se basa en el proceso de recocer metales (calentarlos y enfriarlos para alterar su estructura). Explora soluciones aceptando movimientos de mejora, pero también que puedan empeorar, 
    en función de una probabilidad dependiente de la "temperatura", que decrece con el paso de las iteraciones. Al principio, una temperatura alta favorece la exploración, y al final una baja favorece la explotación.
    \item Búsqueda Tabú (TS - Tabu Search)
    Genera una lista `Tabú` que actúa como memoria del algoritmo, incluyendo los movimientos recientes con el objetivo de no repetir soluciones recientes, sino explorar nuevas, aunque estas no sean las mejores posibles. Esto favorece la exploración.
    \item Optimización por Colonia de Hormigas (ACO - Ant Colony Optimization)
    Diseñado para problemas de rutas, construyendo soluciones iterativamente a través de un grafo, cuyas aristas  se van pesando a medida que generan soluciones buenas.
    %\item Optimización por Enjambre de Partículas (PSO - Particle Swarm Optimization) noo se si incluirlo
\end{itemize}


\subsection{GRASP (Greedy Randomized Adaptive Search Procedure)}
% No se si indicar, en todos los casos, que es para problemas de combinatoria

Desarrollado a finales de los años 80, se crea específicamente para resolver problemas complejos de optimización combinatoria.

El algoritmo se fundamenta en dos partes, una primera en la que se genera una solución aleatorizada, y una segunda en la que se realiza una búsqueda local.
Estos dos pasos se ejecutan múltiples veces, y la mejor solución encontrada es la que se devuelve como resultado final.

\begin{itemize}
    \item Fase de Construcción (Greedy Randomizada):
    Para problemas de combinatoria, empieza incorporando un elemento de manera aleatoria a la solución. Desppués, se crea una LRC (Lista Restringida de Candidatos) con los `mejores candidatos`. Después,
de esta lista se selecciona uno de manera aleatoria, y se añade a la solución. Se repite hasta que la solución contiene la cantidad necesaria de elementos para ser válida.
    \item Búsqueda Local:
    Se toma la solución generada en la fase de construcción, y se intenta mejorar. Se coge cada elemento de la solución, y se prueba a cambiar por alguno de los elementos aún no seleccionados para la misma. Si con alguno la solución mejora, se intercambia.
    Se sigue con el proceso hasta que no se puede mejorar más. Entonces se guarda la solución, y se vuelve a reejecutar el algoritmo completo.
\end{itemize}

Como la búsqueda local se puede hacer a partir, incluso, de otros algoritmos, al final el GRASP
es muy generalizable. También se han creado muchas otras versiones, como añadir mutaciones (como en el algoritmo genético) para, después de realizar
una búsqueda local, poder seguir.

La versión del artículo en el que me baso para comparar los resultados del GRASP que voy a diseñar utiliza \textbf{path-relinking}, que explicaré en la parte de estado del arte.




\section{Problemas de Localización}

Los \textbf{problemas de localización} son uno de los tipos principales de optimización combinatoria, que buscan determinar la ubicación óptima para construir instalaciones, como almacenes, centros de distribución, hospitales, escuelas o estaciones de bomberos. 

Algunos de los objetivos a optimizar pueden incluir la minimización de la distancia total o máxima a los clientes, la reducción del coste operacional, la maximización de la cobertura de la demanda, la mejora del tiempo de respuesta, el balance de uso entre las instalaciones etc.

Estos problemas son de vital importancia en la práctica en múltiples sectores. En la \textbf{logística} y la gestión de la cadena de suministro, la correcta ubicación de almacenes y centros de distribución puede reducir drásticamente los costes de transporte y mejorar la eficiencia de la entrega. En el ámbito de la \textbf{salud}, la localización de hospitales y clínicas asegura un acceso equitativo a la atención médica y tiempos de respuesta rápidos en caso de emergencia. Asimismo, en la planificación de \textbf{servicios públicos}, como la ubicación de escuelas o parques de bomberos, se busca garantizar la accesibilidad cobertura del total o la mayoría de la población.

Entre los ejemplos clásicos y más estudiados de problemas de localización se encuentran:

\begin{itemize}
    \item \textbf{Problema del $p$-mediana}: Busca minimizar la distancia total (o el coste total de transporte) entre los clientes y las $p$ facilidades seleccionadas para ser abiertas. Es crucial para situaciones donde la proximidad media es un factor determinante, como la localización de almacenes para reducir los kilómetros recorridos.

    \item \textbf{Problema del $p$-center}: A diferencia del $p$-mediana, el objetivo del problema del $p$-center es minimizar la máxima distancia (o el tiempo de respuesta más largo) entre cualquier cliente y su instalación asignada. Esto lo hace especialmente relevante para servicios de emergencia, donde el tiempo de respuesta en el peor de los casos debe ser minimizado, como la ubicación de ambulancias o estaciones de policía.

    \item \textbf{Problema de Localización de Instalaciones no Capacitado (Uncapacitated Facility Location Problem, UFLP)}: El UFLP implica decidir qué facilidades abrir de un conjunto de ubicaciones candidatas y a qué clientes servir desde cada una de ellas. El objetivo es minimizar la suma de los costes fijos de apertura de las facilidades y los costes de asignación de clientes a dichas facilidades, sin restricciones en la capacidad de las instalaciones abiertas. Este problema es fundamental para decisiones estratégicas a largo plazo sobre la infraestructura de una empresa.
\end{itemize}

\subsection{Estado del arte}

Artículo 1 de uso de Grasp para problemas le localización de facilidades

Artículo 2 (el que uso de referencia)


\section{Motivación y caso práctico}

\subsection{Motivación}

En el contexto actual de distribución y venta minorista, las empresas que comercializan productos a través de comercios asociados se enfrentan a un problema logístico y estratégico cada vez más complejo: decidir en qué comercios ubicar la oferta de un determinado producto, de manera que se garantice una alta disponibilidad para los clientes, una repartición equitativa de la carga de trabajo entre los establecimientos, y se eviten situaciones de saturación de la demanda en puntos concretos.

La resolución de este problema implica equilibrar múltiples objetivos que pueden entrar en conflicto. Por ejemplo, concentrar las ventas en los comercios más céntricos puede facilitar el acceso para más clientes, pero puede llevar a la sobrecarga de dichos comercios. Por otro lado, una asignación equitativa del volumen de ventas podría perjudicar la proximidad al cliente final.

Este tipo de problemas, típicos en entornos logísticos y de gestión de redes comerciales, son ideales para abordar desde una perspectiva de optimización multiobjetivo. En particular, el uso de metaheurísticas como GRASP (Greedy Randomized Adaptive Search Procedure) permite generar soluciones de alta calidad en espacios de búsqueda complejos, combinando eficiencia, aleatoriedad y adaptabilidad. Esto resulta especialmente valioso en problemas reales donde las soluciones exactas no son computacionalmente viables.

\subsection{Caso práctico}

Se propone aplicar GRASP para resolver el siguiente problema práctico:

Una empresa desea lanzar un nuevo producto en una red de comercios asociados distribuidos geográficamente en una ciudad o región. La empresa no puede colocar el producto en todos los comercios, por lo que debe seleccionar un subconjunto óptimo de ellos. Esta selección debe cumplir los siguientes criterios:

Cobertura geográfica: Los comercios seleccionados deben estar lo más cerca posible de toda la población de clientes potenciales, minimizando la distancia media de los clientes al comercio más cercano.

Limitación del punto más cargado: Se desea minimizar la carga del comercio más exigido, es decir, evitar que uno solo concentre una proporción demasiado alta de las ventas.

Equidad en la carga de trabajo: Se busca que todos los comercios seleccionados reciban un volumen similar de clientes o ventas, para evitar que algunos estén infrautilizados mientras otros estén sobrecargados.

Este problema se formula como una optimización multiobjetivo discreta y se aborda mediante una implementación de GRASP adaptada a la estructura del problema. La solución final debería ofrecer al decisor un conjunto de configuraciones de comercios que representen distintos compromisos entre los objetivos, permitiendo una elección informada.

Este TFM contribuye tanto al avance práctico en la toma de decisiones comerciales como al desarrollo académico en el campo de la optimización heurística multiobjetivo.

\chapter{Aprendizaje Reforzado}

\chapter{Modelo Matemático}


\section{Definición}
3 variables a minimizar
restricciones
método exacto? (no viable)

\chapter{Implementación del Grasp}

Primera versión, grasp simple con inicialización aleatoria y búsqueda local en una de las 3 variables

Segunda versión, grasp con inicialización greedy randomizada (con alpha fijo) y 2 búsquedas locales en serie

Tercera y última versión, grasp con inicialización greedy randomizada (con alpha ranodom), búsquedas locales escogidas por aprendizaje reforzado.


\chapter{Experimentación y Resultados}

Instancias, comparativa, CASO DE ESTUDIO

\chapter{Conclusiones}





\begin{thebibliography}{X}
    \bibitem{Juegos} \textsc{Martín Novo, Eduardo; Méndez Alonso, Alfredo}.
    \textit{Aplicaciones de la teoría de grafos a algunos juegos de estrategia.}
    \url{https://redined.educacion.gob.es/xmlui/handle/11162/13874}

    \bibitem{Caníbales} Caníbales y misioneros: \url{https://culturacientifica.com/2016/05/04/problema-los-tres-caballeros-los-tres-criados/}

    \bibitem{Laberintos} Laberintos: \url{https://www.cantab.net/users/michael.behrend/repubs/maze_maths/pages/tarry_lab_en.html}
    
    \bibitem{Ajedrez} Sobre ajedrez: \url{https://chess24.com/es/informate/noticias/como-piensan-y-operan-los-modulos-de-analisis}

    \bibitem{Mantel} Teorema de Mantel: \url{https://lidicky.name/oldteaching/20.569X/l13%20-%20Mantel.pdf}

    \bibitem{Turan} Vascimini, Vincent. (2017). Extremal Graph Theory: Turán’s Theorem. 
    In BSU Honors Program Theses and Projects. Item 234. Available at: \url{https://vc.bridgew.edu/honors_proj/234}

    \bibitem{otros_teoremas} \textsc{Widdershoven, Cas.} \textit{Extremal graphs and the Erd{\H{o}}s-Stone-Simonovits theorems.}
    \url{https://studenttheses.uu.nl/handle/20.500.12932/23972}

\end{thebibliography}


\end{document}

